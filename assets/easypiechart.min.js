(function(){(function(a){a.easyPieChart=function(h,k){var f,j,d,g,c,e,i,b=this;return this.el=h,this.$el=a(h),this.$el.data("easyPieChart",this),this.init=function(){var c;return b.options=a.extend({},a.easyPieChart.defaultOptions,k),c=parseInt(b.$el.data('percent'),10),b.percentage=0,b.canvas=a("<canvas width='"+b.options.size+"' height='"+b.options.size+"'></canvas>").get(0),b.$el.append(b.canvas),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager!==null&&G_vmlCanvasManager.initElement(b.canvas),b.ctx=b.canvas.getContext('2d'),window.devicePixelRatio>1.5&&(a(b.canvas).css({width:b.options.size,height:b.options.size}),b.canvas.width*=2,b.canvas.height*=2,b.ctx.scale(2,2)),b.ctx.translate(b.options.size/2,b.options.size/2),b.$el.addClass('easyPieChart'),b.$el.css({width:b.options.size,height:b.options.size,lineHeight:""+b.options.size+"px"}),b.update(c),b},this.update=function(a){return b.options.animate===!1?d(a):j(b.percentage,a)},e=function(){var a,c,d;b.ctx.fillStyle=b.options.scaleColor,b.ctx.lineWidth=1,d=[];for(a=c=0;c<=24;a=++c)d.push(f(a));return d},f=function(c){var a;return a=c%6===0?0:b.options.size*.017,b.ctx.save(),b.ctx.rotate(c*Math.PI/12),b.ctx.fillRect(b.options.size/2-a,0,-b.options.size*.05+a,1),b.ctx.restore()},i=function(){var a;return a=b.options.size/2-b.options.lineWidth/2,b.options.scaleColor!==!1&&(a-=b.options.size*.08),b.ctx.beginPath(),b.ctx.arc(0,0,a,0,Math.PI*2,!0),b.ctx.closePath(),b.ctx.strokeStyle=b.options.trackColor,b.ctx.lineWidth=b.options.lineWidth,b.ctx.stroke()},c=function(){if(b.options.scaleColor!==!1&&e(),b.options.trackColor!==!1)return i()},d=function(e){var d;return c(),b.ctx.strokeStyle=a.isFunction(b.options.barColor)?b.options.barColor(e):b.options.barColor,b.ctx.lineCap=b.options.lineCap,b.ctx.lineWidth=b.options.lineWidth,d=b.options.size/2-b.options.lineWidth/2,b.options.scaleColor!==!1&&(d-=b.options.size*.08),b.ctx.save(),b.ctx.rotate(-Math.PI/2),b.ctx.beginPath(),b.ctx.arc(0,0,d,0,Math.PI*2*e/100,!1),b.ctx.stroke(),b.ctx.restore()},j=function(h,i){var a,e,f;return e=30,f=e*b.options.animate/1e3,a=0,b.options.onStart.call(b),b.percentage=i,b.animation&&(clearInterval(b.animation),b.animation=!1),b.animation=setInterval(function(){if(b.ctx.clearRect(-b.options.size/2,-b.options.size/2,b.options.size,b.options.size),c.call(b),d.call(b,[g(a,h,i-h,f)]),a++,a/f>1)return clearInterval(b.animation),b.animation=!1,b.options.onStop.call(b)},1e3/e)},g=function(b,d,e,f){var a,c;return a=function(a){return Math.pow(a,2)},c=function(b){return b<1?a(b):2-a(b/2*-2+2)},b/=f/2,e/2*c(b)+d},this.init()},a.easyPieChart.defaultOptions={barColor:'#ef1e25',trackColor:'#f2f2f2',scaleColor:'#dfe0e0',lineCap:'round',size:110,lineWidth:3,animate:!1,onStart:a.noop,onStop:a.noop},a.fn.easyPieChart=function(b){return a.each(this,function(e,d){var c;if(c=a(d),!c.data('easyPieChart'))return c.data('easyPieChart',new a.easyPieChart(d,b))})}})(jQuery)}).call(this)